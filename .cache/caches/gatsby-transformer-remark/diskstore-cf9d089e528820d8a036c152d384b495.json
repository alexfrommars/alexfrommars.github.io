{"expireTime":9007200836475512000,"key":"transformer-remark-markdown-html-ae0acd59bee2c358d094e5b3ccd8d88b-gatsby-remark-prismjsgatsby-remark-relative-imagesgatsby-remark-images-","val":"<p>NOTE: This is first blog post the creator of this template made. I translated it from Japanese and posted it here to give background on the creation of the site!</p>\n<p>I had a chance to create a new website, so I decided to build it using a method called JAM Stack . JAM Stack is a serverless framework composed of JS + API + Markup.</p>\n<h2>About JAM Stack</h2>\n<h3>Characteristics</h3>\n<ul>\n<li>Frontend is completely separate from backend</li>\n<li>Build static files (HTML, JS) in advance by using Static Site Generator: <a href=\"https://www.staticgen.com/\">Static Site Generator</a> </li>\n<li>Screen description is basically done only with JS</li>\n<li>Distribute all built files on CDN</li>\n<li>Manage all project data on Git</li>\n<li>Use the latest build tools such as Babel, PostCSS, Webpack</li>\n<li>Automatic build / auto deploy</li>\n<li>If you need server-side functionality, hit the API with Ajax</li>\n</ul>\n<h3>Merit</h3>\n<ul>\n<li>High Performance</li>\n<li>High security</li>\n<li>Easy and cheap to scale</li>\n<li>Developer friendly</li>\n</ul>\n<h3>Demerit</h3>\n<ul>\n<li>In principle, it cannot be applied to web applications that have a strong connection between client and server</li>\n</ul>\n<h2>About this website</h2>\n<h3>URL</h3>\n<p><a href=\"https://www.yuuniworks.com\" target=\"_blank\">https://www.yuuniworks.com</a>\n（<a href=\"https://github.com/junkboy0315/yuuni-web\" target=\"_blank\">source code</a>）</p>\n<h3>Diagram</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 500px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cc8c83772885665d168373b6dc1c9bf7/43304/20180409.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 108.13397129186603%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAWCAYAAADAQbwGAAAACXBIWXMAACE3AAAhNwEzWJ96AAADIklEQVQ4y4VVS2sTURTOb9If0LWIbrrpxp0rV4Ig+IBaERHR0oVkU3CjWRSxXWShRWPbtGLpwxqSICTSvM2rzUwmz5k7uZ/n3OSmM0mDl1zOZM693/3OOd+5E3BdV5imKer1ujg/PxcA1MzncqLRaAgppbBtW1l+r+2MaQdoARzHgWk0oIdhGPiwtoaN9XWsrq5iZWUFwWAQ4XBY+QeDAWaMQcCyLGk7QtouyLqy025LIVxJjGW1WpUELs/OzmShUJAUgaRNkgfbicnDDTiOi45VR/zrK9itMggLlAXlpcPGR7fbbcVsiIWxHY0LQEHs/2bj2A7OoVePg/AhhMM70O/31cZmswlih06ncxmYH1BvatQK6k3ftomhq557vZ7yMTMGa7Va4/zNZMibeJi94UKbDpgE5NHpdGGYpvKpQ2h6wvcwdAT6RhWFjddwjRJszqEQU4AkBbQp9KlYh35PUejRTB3h590rsDPHcFhQjuMHpF8ok0W0WkOLWGbyBZxms4rxNEMKkQHqpwnYvTYRET6GSly0/k0sjY9/ishmTvHj8Ai/4glkcjlfDgl3mEP+12g5oGhhj4qiC6Hz2bJaqvLe0SU/NwWRumBIooZlVBDbfIGukSfZDHXIzKn11AFDQGvcJbq7uOokepaVHK0jHRJAvZTC9tsFWJU4WJdKhywhAtWJN6kgzii3XsnwmnK5LGmyHYbMoRmNurK2R4e8mP3cMZVKRU26SBSgBqUWRalUksy2VqsNAtwFDNKkHPEGBtVhdbtd5WNg3qDFrcHYx8xonywWi/w8CAiqKDNiywCcN7YqtIGc1Nsw87SeWesu8+lwUqijqim2scQJkr8TSCaTiMViaupC6XxqHY7S4AZ0PryTx+73KMLv9rC/FcPxyZECi0QiClwz9qz3M/QC6eY/ONzH9kYMBzsJRLa+YOvbDj5/2kQ6nZ66ZH2dMtmXeuHe7h6ev3yG+YV5XL95A3PXruL2nVso5Is+PU7dNlN3+AgwGo1ieXkZDx8/wuLSE9x/cA9LTxeRSqUu+wzMBvSGT58AhEIhlbfQ+5Cq/v/uw3+SNo3dZMndSAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Diagram\"\n        title=\"Diagram\"\n        src=\"/static/cc8c83772885665d168373b6dc1c9bf7/d19c0/20180409.png\"\n        srcset=\"/static/cc8c83772885665d168373b6dc1c9bf7/6b181/20180409.png 125w,\n/static/cc8c83772885665d168373b6dc1c9bf7/5039d/20180409.png 250w,\n/static/cc8c83772885665d168373b6dc1c9bf7/d19c0/20180409.png 500w,\n/static/cc8c83772885665d168373b6dc1c9bf7/35c67/20180409.png 750w,\n/static/cc8c83772885665d168373b6dc1c9bf7/e11df/20180409.png 1000w,\n/static/cc8c83772885665d168373b6dc1c9bf7/43304/20180409.png 1463w\"\n        sizes=\"(max-width: 500px) 100vw, 500px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Characteristic</h3>\n<p>In addition to the standard JAM Stack configuration, the following two functions have been added.</p>\n<ul>\n<li>Content editing function using GUI by Netlify CMS</li>\n<li>Inquiry mail sending function (API side is implemented with AWS API Gateway + Lambda + SES)</li>\n</ul>\n<h3>Software and services used</h3>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>React</td>\n<td>UI</td>\n</tr>\n<tr>\n<td>Gatsby</td>\n<td>Static Site Generator</td>\n</tr>\n<tr>\n<td>AWS(API, Lambda, SES)</td>\n<td>問合せメール送信用API</td>\n</tr>\n<tr>\n<td>Netlify</td>\n<td>CI/CD</td>\n</tr>\n<tr>\n<td>NetlifyCMS</td>\n<td>CMS</td>\n</tr>\n</tbody>\n</table>\n<h3>Gatsby plugin</h3>\n<p>Gatsby provides plug-ins for functions frequently used on websites. By making good use of this, the design does not require reinventing the wheel. This time, the following plug-ins were used.</p>\n<h4>gatsby-plugin-glamor</h4>\n<p>Make the following css-in-js available.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>div css<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n  marginHeight<span class=\"token punctuation\">:</span> <span class=\"token string\">'1rem'</span><span class=\"token punctuation\">,</span>\n  display<span class=\"token punctuation\">:</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">.</span>isVisible <span class=\"token operator\">?</span> <span class=\"token string\">'block'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'none'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span></code></pre></div>\n<h4>gatsby-plugin-react-helmet</h4>\n<p>Automatically perform server-side rendering of the contents described in react-helmet (SEO measures for crawlers that cannot render JS).</p>\n<h4>gatsby-plugin-feed</h4>\n<p>Automatically generate rss for blogs etc.</p>\n<h4>gatsby-plugin-google-analytics</h4>\n<p>Automatically install google analytics code.</p>\n<h4>gatsby-plugin-google-tagmanager</h4>\n<p>Automatically install code for google tag manager.</p>\n<h4>gatsby-plugin-sentry</h4>\n<p>Automatically install <a href=\"https://sentry.io/welcome/\">Sentry</a> (client-side error log management) code.</p>\n<h4>gatsby-plugin-sitemap</h4>\n<p>Automatically generate a sitemap.</p>\n<h4>gatsby-plugin-typography</h4>\n<p>Set global CSS beautifully.</p>\n<h4>gatsby-remark-prismjs</h4>\n<p>Decorate and display the code description part in the markdown file.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> description <span class=\"token operator\">=</span> <span class=\"token string\">'こんな感じです。'</span><span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'多くの言語に対応してます。'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4>gatsby-remark-images</h4>\n<p>Automatically optimizes images such as detecting images in markdown files and automatically generating images with different resolutions.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span>\n  <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/static/20180409-cc8c83772885665d168373b6dc1c9bf7-2f183.png<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">srcset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>\n    /static/20180409-cc8c83772885665d168373b6dc1c9bf7-67829.png 125w,\n    /static/20180409-cc8c83772885665d168373b6dc1c9bf7-5c59f.png 250w,\n    /static/20180409-cc8c83772885665d168373b6dc1c9bf7-2f183.png 500w,\n    /static/20180409-cc8c83772885665d168373b6dc1c9bf7-c93e8.png 750w,\n    /static/20180409-cc8c83772885665d168373b6dc1c9bf7-4e628.png 1000w,\n    /static/20180409-cc8c83772885665d168373b6dc1c9bf7-9260f.png 1463w<span class=\"token punctuation\">\"</span></span>\n <span class=\"token attr-name\">sizes</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>(max-width: 500px) 100vw, 500px<span class=\"token punctuation\">\"</span></span>\n<span class=\"token punctuation\">/></span></span></code></pre></div>\n<h4>gatsby-remark-relative-images</h4>\n<p>The above gatsby-remark-images will not work unless the image link is a relative path. Images uploaded by NetlifyCMS will always be absolute paths, so images will not be optimized. To solve this problem, rewrite the absolute path to a relative path in advance using this plugin.</p>\n<h2>Impression</h2>\n<ul>\n<li>No cost</li>\n<li>Don't have to worry about server performance</li>\n<li>Everything is fast</li>\n<li>Designed for global use from the beginning</li>\n</ul>\n<p>I think this method is suitable for document sites and corporate sites that do not require very complicated functions on the server side.</p>\n<p>Best of all, git pushyou can place static files on CDNs all over the world , just be developer friendly. Plus, with the CMS in place like this, you can also update your content with a user-friendly GUI.</p>\n<p>I think JAM Stack will increase its adoption in Japan in the future.</p>\n<h2>reference</h2>\n<ul>\n<li><a href=\"https://www.gatsbyjs.org/tutorial/\">How to use Gatsby</a></li>\n<li><a href=\"https://www.netlify.com/blog/2016/02/24/a-step-by-step-guide-gatsby-on-netlify/\">How to build a CI / CD environment with Netlify</a></li>\n<li><a href=\"https://www.netlifycms.org/docs/add-to-your-site/\">How to implement Netlify CMS on Gatsby</a></li>\n<li><a href=\"https://blog.craftz.dog/aws-lambda%E3%81%A7%E9%9D%99%E7%9A%84%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AB%E3%83%A1%E3%83%BC%E3%83%AB%E9%80%81%E4%BF%A1%E3%83%95%E3%82%A9%E3%83%BC%E3%83%A0%E3%82%92%E4%BD%9C%E3%82%8B%E7%B0%A1%E5%8D%98%E3%81%AA%E6%96%B9%E6%B3%95-de8cba5e50a5\">An easy way to create an email submission form on a static site with AWS Lambda</a></li>\n</ul>"}